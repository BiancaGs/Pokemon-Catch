<!DOCTYPE html>
<html lang="en">
    
    <head>
        
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Modelagem 3D em WebGL</title>

        <!-- Arquivos necessários -->
        <script src="node_modules/three/build/three.js"></script>
        <script src="node_modules/three/examples/js/WebGL.js"></script>
        <script src="node_modules/three/examples/js/loaders/OBJLoader.js"></script>
        <script src="node_modules/three/examples/js/loaders/MTLLoader.js"></script>
        <script src="node_modules/three/examples/js/controls/OrbitControls.js"></script>

    </head>
    
    <body>

        <!-- Canvas para exibição do modelo -->
        <canvas id="modelo"></canvas>

        <!-- Vertex Shader -->
        <script id="vertex-shader" type="x-shader/x-vertex">
            varying vec3 vNormal; // Normal (compartilhada entre vertex e fragment shader)

            void main() {
                vNormal = normal;   // Atribui valor do THREE à normal
                gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
            }
        </script>

        <!-- Fragment Shader -->
        <script id="fragment-shader" type="x-shader/x-fragment">
            varying vec3 vNormal;   // Normal (compartilhada)

            void main() {

                // Criação do vetor
                vec3 light = vec3(0.5, 0.25, 0.25);

                // Garante que está normalizado, ou seja, é um vetor unitário 
                light = normalize(light);

                // Calcula a luz para o vetor normalizado
                float produto = max(0.0 , dot(vNormal, light));

                // Atribui a cor
                gl_FragColor = vec4(produto,    // R
                                    produto,    // G
                                    produto,    // B
                                    1.0);       // A

            }
        </script>


        <!-- Código para manipulação -->
        <script src="main.js"></script>
        

    </body>

</html>